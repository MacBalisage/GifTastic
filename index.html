<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>

    <script type="text/javascript">
    
       $(document).ready(function(){

           var topics = ["Naruto","Samurai Champloo","Cowboy Bebop","Space Dandy","Kill la Kill","Gurren Lagann","Lupin III"];

           function displayInfo(){
               $("#animeWorld").empty();
               var topic = $(this).attr("dataName");
               var queryURL = "https://api.giphy.com/v1/gifs/search?api_key=ARxKuA4v8BicJ1gly5ExT9Ku7Nx9PTIC&q=anime&limit=10&offset=0&rating=PG-13&lang=en"+topic+"&api_key=ARxKuA4v8BicJ1gly5ExT9Ku7Nx9PTIC";

               $.ajax({
                   url: queryURL,
                   method: "GET"
               })

               .then(function(response){
                   if (response.pagination.total_count === 0){
                       alert("Yo what are you looking for?");
                       var itemindex = topics.indexof(topic);
                       if (itemindex > -1){
                           topics.splice(itemindex, 1);
                           renderButtons();
                       }
                   }
               
                    var results = response.data;
                    for(var i = 0; i < results.length; i++){
                        var newTopicDiv = $("<div class="animeTitle">");
                        var pRating = $("<p>").text("Rating: "+ result[j].rating.toUpperCase());
                        var pTitle = $("<p>").text("Rating: "+ result[j].rating.toUpperCase());
                        var gifURL = result[i].images.fixed_height_still.url;
                        var gif = $("<img>");

                        gif.attr("src",gifURL);
                        gif.attr("data-still",results[i].images.fixed_height_still.url;)
                        gif.attr("data-animated",results[i].imagefixed_height.url);
                        gif.attr("data-state","still");

                        newTopicDiv.append(pRating);
                        newTopicDiv.append(pTitle);
                        newTopicDiv.append(gif);

                        $("#animeWorld").prepend(newTopicDiv);
                    }
                });
           };

           function renderButtons(){

           }
       } 

    </script>
    
</body>
</html>